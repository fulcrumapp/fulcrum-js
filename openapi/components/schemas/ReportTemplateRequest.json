{
  "type": "object",
  "properties": {
    "report_template": {
      "type": "object",
      "required": ["name"],
      "properties": {
        "name": {
          "type": "string",
          "description": "The name of the report template"
        },
        "description": {
          "type": "string",
          "description": "A description of the report template"
        },
        "body": {
          "type": "string",
          "description": "The HTML/EJS template for the report body"
        },
        "header": {
          "type": "string",
          "description": "The HTML/EJS template for the report header"
        },
        "footer": {
          "type": "string",
          "description": "The HTML/EJS template for the report footer"
        },
        "styles": {
          "type": "string",
          "description": "CSS styles for the report"
        },
        "script": {
          "type": "string",
          "description": "JavaScript code for the report"
        },
        "filename_pattern": {
          "type": "string",
          "description": "Pattern for generating report filenames"
        },
        "config": {
          "type": "object",
          "description": "Configuration settings for the report",
          "properties": {
            "size": {
              "type": "string",
              "enum": ["Letter", "Legal", "Tabloid", "Ledger", "A3", "A4"],
              "description": "Page size for the report"
            },
            "landscape": {
              "type": "boolean",
              "description": "Whether to use landscape orientation"
            },
            "margin_top": {
              "type": "number",
              "description": "Top margin in inches"
            },
            "margin_right": {
              "type": "number",
              "description": "Right margin in inches"
            },
            "margin_bottom": {
              "type": "number",
              "description": "Bottom margin in inches"
            },
            "margin_left": {
              "type": "number",
              "description": "Left margin in inches"
            },
            "output": {
              "type": "string",
              "enum": ["pdf", "docx"],
              "description": "Output format"
            },
            "parameters": {
              "type": "array",
              "description": "Array of parameter definitions",
              "items": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "Parameter name"
                  },
                  "label": {
                    "type": "string",
                    "description": "Display label for the parameter"
                  },
                  "type": {
                    "type": "string",
                    "enum": ["record_id", "choice_list", "classification_set", "project", "text", "number", "date"],
                    "description": "Parameter type"
                  },
                  "required": {
                    "type": "boolean",
                    "description": "Whether the parameter is required"
                  },
                  "multiple": {
                    "type": "boolean",
                    "description": "Whether multiple values are allowed"
                  },
                  "options": {
                    "type": ["array", "null"],
                    "description": "Available options for the parameter"
                  },
                  "query": {
                    "type": ["string", "null"],
                    "description": "Query to filter available options"
                  },
                  "default": {
                    "type": "array",
                    "description": "Default value(s) for the parameter"
                  }
                }
              }
            }
          }
        }
      }
    }
  }
}
